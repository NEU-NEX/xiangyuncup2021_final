AJS.test.require(["jira.webresources:select-pickers"],function(){"use strict";var e=require("jquery"),r=require("jira/jquery/deferred"),t=require("jira/ajs/select/queryable-dropdown-select");module("QueryableDropdownSelect"),test("Should get results before rendering dropdown (such that positioning won't be borked)",function(){var o=this,n=new t({element:e("<ul></ul>")});o.stub(n,"getQueryVal",function(){return"one"}),o.stub(n,"requestSuggestions",function(){return(new r).resolve(["one","two"]).promise()});var l=o.spy(n.listController,"generateListFromJSON"),s=o.spy(n.dropdownController,"show"),i=o.spy(n.dropdownController,"setPosition");n.onEdit(),ok(l.calledBefore(s),"should have results before we render a dropdown with them in it (to prevent things like TF-39)"),ok(l.calledBefore(i),"should have results before we calc and position a dropdown with them in it (to prevent things like TF-39)")}),test("ariaLabel",function(){var r=new t({element:e("<ul></ul>"),ariaLabel:"Test Label"});equal(r.$field.attr("aria-label"),"Test Label","aria-label attribute should be set from options")})});